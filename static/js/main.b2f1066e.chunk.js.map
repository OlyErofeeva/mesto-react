{"version":3,"sources":["components/Header.js","components/Spinner.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/ImagePopup.js","utils/api.js","components/App.js","index.js","images/logo_color_white.svg"],"names":["Header","className","src","logo","alt","Spinner","CurrentUserContext","React","createContext","Card","name","link","likes","owner","_id","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwner","cardDeleteButtonClassName","isLiked","some","like","cardLikeButtonClassName","onClick","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","about","map","item","key","Footer","PopupWithForm","formTitle","submitButtonTitle","children","isOpen","onClose","onSubmit","isSubmitDisabled","action","noValidate","disabled","EditProfilePopup","onUpdateUser","useState","value","errorMessage","isValid","nameInput","setNameInput","descriptionInput","setDescriptionInput","setSubmitButtonTitle","resetInputs","userContext","useEffect","e","preventDefault","finally","placeholder","required","minLength","maxLength","onChange","target","validationMessage","id","EditAvatarPopup","onUpdateAvatar","avatarInputRef","useRef","avatarValidity","setAvatarValidity","clearInputs","current","ref","AddPlacePopup","captionInput","setCaptionInput","linkInput","setLinkInput","ConfirmDeletePopup","onDeleteConfirmation","cardId","ImagePopup","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","Error","status","statusText","fetch","method","then","_onError","newData","body","JSON","stringify","avatarLink","cardData","dislikeCard","likeCard","authorization","App","setCurrentUser","setCards","isConfirmDeletePopupOpen","setIsConfirmDeletePopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","cardIdToDelete","setCardIdToDelete","isLoading","setIsLoading","closeAllPopups","updateUserOnResponse","response","all","getUserInfo","getInitialCards","results","userInfo","items","catch","err","alert","Provider","cardLikes","changeLikeCardStatus","responseCard","newCards","editProfile","saveCard","newCard","newAvatarLink","changeAvatar","deleteCard","filter","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.b2f1066e.chunk.js","sourcesContent":["import React from 'react';\r\nimport logo from '../images/logo_color_white.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header page__header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"Логотип Mesto\"/>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nfunction Spinner() {\r\n  return (\r\n    <div className=\"loader-container\">\r\n        <div className=\"loader\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Spinner;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ name, link, likes, owner, _id, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwner = owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = `card__delete-button ${\r\n    isOwner ? \"\" : \"card__delete-button_hidden\"\r\n  }`;\r\n  const isLiked = likes.some(like => like._id === currentUser._id);\r\n  const cardLikeButtonClassName = `card__like-button ${\r\n    isLiked ? \"card__like-button_active\" : \"\"\r\n  }`;\r\n\r\n  const cardClickHandler = () => {\r\n    onCardClick({ name, link });\r\n  };\r\n\r\n  const cardLikeHandler = () => {\r\n    onCardLike(likes, _id);\r\n  };\r\n\r\n  const cardDeleteHandler = () => {\r\n    onCardDelete(_id);\r\n  };\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      <div className=\"card__photo-container\">\r\n        <img\r\n          className=\"card__photo\"\r\n          src={link}\r\n          alt={name}\r\n          onClick={cardClickHandler}\r\n        />\r\n      </div>\r\n      <div className=\"card__info\">\r\n        <h2 className=\"card__caption\">{name}</h2>\r\n        <div className=\"card__like-container\">\r\n          <button \r\n            className={cardLikeButtonClassName} \r\n            type=\"button\" \r\n            onClick={cardLikeHandler}\r\n          ></button>\r\n          <p className=\"card__likes\">{likes.length}</p>\r\n        </div>\r\n      </div>\r\n      <button \r\n        className={cardDeleteButtonClassName} \r\n        type=\"button\"\r\n        onClick={cardDeleteHandler}\r\n      ></button>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, cards, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  \r\n  return (\r\n    <main className=\"content page__content\">\r\n      <section className=\"profile page__profile\">\r\n        <div className=\"profile__container\">\r\n          <div className=\"profile__avatar-container\" onClick={onEditAvatar}>\r\n            <img\r\n              className=\"profile__avatar\"\r\n              src={currentUser.avatar}\r\n              alt=\"Аватар пользователя\"\r\n            />\r\n          </div>\r\n          <div className=\"profile__flex-column\">\r\n            <div className=\"profile__flex-row\">\r\n              <h1 className=\"profile__full-name\">{currentUser.name}</h1>\r\n              <button\r\n                className=\"profile__edit-button\"\r\n                type=\"button\"\r\n                onClick={onEditProfile}\r\n              ></button>\r\n            </div>\r\n            <p className=\"profile__bio\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"add-button\"\r\n          type=\"button\"\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <section className=\"gallery\">\r\n        <ul className=\"cards-container\">\r\n          {cards.map(item => (\r\n            <Card\r\n              {...item}\r\n              key={item._id}\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer page__footer\">\r\n        <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nfunction PopupWithForm({\r\n  name,\r\n  formTitle,\r\n  submitButtonTitle,\r\n  children,\r\n  isOpen,\r\n  onClose,\r\n  onSubmit,\r\n  isSubmitDisabled\r\n}) {\r\n  return (\r\n    <div className={`modal modal_for_${name} ${isOpen ? \"modal_opened\" : \"\"}`}>\r\n      <div className=\"modal__content\">\r\n        <form \r\n          className=\"form\" \r\n          name={name} \r\n          action=\"#\" \r\n          noValidate\r\n          onSubmit={onSubmit}\r\n        >\r\n          <h2 className=\"form__title\">{formTitle}</h2>\r\n          {children}\r\n          <button \r\n            className={`form__submit-button \r\n              ${isSubmitDisabled ? \"form__submit-button_disabled\" : \"\"}\r\n            `} \r\n            type=\"submit\" \r\n            disabled={isSubmitDisabled}\r\n          >\r\n            {submitButtonTitle}\r\n          </button>\r\n        </form>\r\n        <button\r\n          className=\"modal__close-button\"\r\n          type=\"button\"\r\n          onClick={onClose}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [nameInput, setNameInput] = React.useState({\r\n    value: '',\r\n    errorMessage: '',\r\n    isValid: false\r\n  });\r\n  const [descriptionInput, setDescriptionInput] = React.useState({\r\n    value: '',\r\n    errorMessage: '',\r\n    isValid: false\r\n  });\r\n  const [submitButtonTitle, setSubmitButtonTitle] = React.useState('Сохранить');\r\n\r\n  const handleNameChange = (e) => {\r\n    setNameInput({\r\n      value: e.target.value,\r\n      errorMessage: e.target.validationMessage,\r\n      isValid: (e.target.validationMessage ? false : true)\r\n    });\r\n  };\r\n\r\n  const handleDescriptionChange = (e) => {\r\n    setDescriptionInput({\r\n      value: e.target.value,\r\n      errorMessage: e.target.validationMessage,\r\n      isValid: (e.target.validationMessage ? false : true)\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setSubmitButtonTitle('Сохранение...');\r\n    onUpdateUser({\r\n      name: nameInput.value,\r\n      about: descriptionInput.value\r\n    })\r\n    .finally(() => {\r\n      setSubmitButtonTitle('Сохранить');\r\n    })\r\n  };\r\n\r\n  const resetInputs = (userContext) => {\r\n    setNameInput({\r\n      value: userContext.name,\r\n      errorMessage: '',\r\n      isValid: true\r\n    });\r\n    setDescriptionInput({\r\n      value: userContext.about,\r\n      errorMessage: '',\r\n      isValid: true\r\n    });\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    resetInputs(currentUser);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    resetInputs(currentUser);\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      formTitle=\"Редактировать профиль\"\r\n      submitButtonTitle={submitButtonTitle}\r\n      isOpen={isOpen}\r\n      onClose={handleClose}\r\n      onSubmit={handleSubmit}\r\n      isSubmitDisabled={!nameInput.isValid || !descriptionInput.isValid}\r\n    >\r\n      <input\r\n        className=\"form__input\"\r\n        type=\"text\"\r\n        name=\"newProfileFullName\"\r\n        placeholder=\"Полное имя\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        value={nameInput.value}\r\n        onChange={handleNameChange}\r\n      />\r\n      <span className=\"form__error\" id=\"newProfileFullName-error\">\r\n        {nameInput.errorMessage}\r\n      </span>\r\n\r\n      <input\r\n        className=\"form__input\"\r\n        type=\"text\"\r\n        name=\"newProfileBio\"\r\n        placeholder=\"О себе\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        value={descriptionInput.value}\r\n        onChange={handleDescriptionChange}\r\n      />\r\n      <span className=\"form__error\" id=\"newProfileBio-error\">\r\n        {descriptionInput.errorMessage}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarInputRef = React.useRef();\r\n  const [avatarValidity, setAvatarValidity] = React.useState({\r\n    errorMessage: '',\r\n    isValid: false\r\n  });\r\n  const [submitButtonTitle, setSubmitButtonTitle] = React.useState('Сохранить');\r\n\r\n  const clearInputs = () => {\r\n    avatarInputRef.current.value = '';\r\n    setAvatarValidity({\r\n      errorMessage: '',\r\n      isValid: false\r\n    });\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setSubmitButtonTitle('Сохранение...');\r\n    onUpdateAvatar(avatarInputRef.current.value)\r\n    .finally(() => {\r\n      setSubmitButtonTitle('Сохранить');\r\n      clearInputs();\r\n    });\r\n  }\r\n\r\n  const validateInput = () => {\r\n    setAvatarValidity({\r\n      errorMessage: avatarInputRef.current.validationMessage,\r\n      isValid: (avatarInputRef.current.validationMessage ? false : true)\r\n    });\r\n  }\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    clearInputs();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      formTitle=\"Обновить аватар\"\r\n      submitButtonTitle={submitButtonTitle}\r\n      isOpen={isOpen}\r\n      onClose={handleClose}\r\n      onSubmit={handleSubmit}\r\n      isSubmitDisabled={!avatarValidity.isValid}\r\n    >\r\n      <input\r\n        className=\"form__input\"\r\n        type=\"url\"\r\n        name=\"newAvatarLink\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n        ref={avatarInputRef}\r\n        onChange={validateInput}\r\n      />\r\n      <span className=\"form__error\" id=\"newAvatarLink-error\">\r\n        {avatarValidity.errorMessage}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace}) {\r\n  const [captionInput, setCaptionInput] = React.useState({\r\n    value: '',\r\n    errorMessage: '',\r\n    isValid: false\r\n  });\r\n  const [linkInput, setLinkInput] = React.useState({\r\n    value: '',\r\n    errorMessage: '',\r\n    isValid: false\r\n  });\r\n  const [submitButtonTitle, setSubmitButtonTitle] = React.useState('Создать');\r\n\r\n  const handleCaptionChange = (e) => {\r\n    setCaptionInput({\r\n      value: e.target.value,\r\n      errorMessage: e.target.validationMessage,\r\n      isValid: (e.target.validationMessage ? false : true)\r\n    });\r\n  };\r\n\r\n  const handleLinkChange = (e) => {\r\n    setLinkInput({\r\n      value: e.target.value,\r\n      errorMessage: e.target.validationMessage,\r\n      isValid: (e.target.validationMessage ? false : true)\r\n    });\r\n  };\r\n\r\n  const clearInputs = () => {\r\n    setCaptionInput({\r\n      value: '',\r\n      errorMessage: '',\r\n      isValid: false\r\n    });\r\n\r\n    setLinkInput({\r\n      value: '',\r\n      errorMessage: '',\r\n      isValid: false\r\n    });\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setSubmitButtonTitle('Сохранение...');\r\n    onAddPlace({\r\n      name: captionInput.value,\r\n      link: linkInput.value\r\n    })\r\n    .finally(() => {\r\n      setSubmitButtonTitle('Создать');\r\n      clearInputs();  \r\n    });\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    clearInputs();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n          name=\"place\"\r\n          formTitle=\"Новое место\"\r\n          submitButtonTitle={submitButtonTitle}\r\n          isOpen={isOpen}\r\n          onClose={handleClose}\r\n          onSubmit={handleSubmit}\r\n          isSubmitDisabled={!captionInput.isValid || !linkInput.isValid}\r\n        >\r\n          <input\r\n            className=\"form__input\"\r\n            type=\"text\"\r\n            name=\"newPlaceCaption\"\r\n            placeholder=\"Название\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"30\"\r\n            value={captionInput.value}\r\n            onChange={handleCaptionChange}\r\n          />\r\n          <span className=\"form__error\" id=\"newPlaceCaption-error\">{captionInput.errorMessage}</span>\r\n\r\n          <input\r\n            className=\"form__input\"\r\n            type=\"url\"\r\n            name=\"newPlaceLink\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            required\r\n            value={linkInput.value}\r\n            onChange={handleLinkChange}\r\n          />\r\n          <span className=\"form__error\" id=\"newPlaceLink-error\">{linkInput.errorMessage}</span>\r\n        </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmDeletePopup({ isOpen, onClose, onDeleteConfirmation, cardId }) {\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onDeleteConfirmation(cardId);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"confirm\"\r\n      formTitle=\"Вы уверены?\"\r\n      submitButtonTitle=\"Да\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ConfirmDeletePopup;","import React from 'react';\r\n\r\nfunction ImagePopup({ name, link, isOpen, onClose }) {\r\n  return (\r\n    <div className={`modal modal_for_photo ${isOpen ? \"modal_opened\" : \"\"}`}>\r\n      <div className=\"modal__content\">\r\n        <figure className=\"modal__full-photo-view\">\r\n          <img className=\"modal__full-photo\" src={link} alt={name}/>\r\n          <figcaption className=\"modal__full-photo-caption\">{name}</figcaption>\r\n        </figure>\r\n        <button className=\"modal__close-button\" type=\"button\" onClick={onClose}></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _onError(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(new Error(`Что-то пошло не так: ${res.status} ${res.statusText}`));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * getUserInfo response example:\r\n      {\r\n        \"name\": \"Jacques Cousteau\",\r\n        \"about\": \"Sailor, researcher\",\r\n        \"avatar\": \"https://pictures.s3.yandex.net/frontend-developer/ava.jpg\",\r\n        \"_id\": \"e20537ed11237f86bbb20ccb\",\r\n        \"cohort\": \"cohort0\"\r\n      }\r\n   */\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    })\r\n    .then(this._onError);\r\n  }\r\n\r\n  /**\r\n   * getInitialCards response example:\r\n      [\r\n        {\r\n          \"likes\": [],\r\n          \"_id\": \"5d1f0611d321eb4bdcd707dd\",\r\n          \"name\": \"Байкал\",\r\n          \"link\": \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg\",\r\n          \"owner\": {\r\n            \"name\": \"Jacques Cousteau\",\r\n            \"about\": \"Sailor, researcher\",\r\n            \"avatar\": \"https://pictures.s3.yandex.net/frontend-developer/ava.jpg\",\r\n            \"_id\": \"ef5f7423f7f5e22bef4ad607\",\r\n            \"cohort\": \"local\"\r\n          },\r\n          \"createdAt\": \"2019-07-05T08:10:57.741Z\"\r\n        },\r\n        {\r\n          \"likes\": [],\r\n          \"_id\": \"5d1f064ed321eb4bdcd707de\",\r\n          \"name\": \"Архыз\",\r\n          \"link\": \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg\",\r\n          \"owner\": {\r\n            \"name\": \"Jacques Cousteau\",\r\n            \"about\": \"Sailor, researcher\",\r\n            \"avatar\": \"https://pictures.s3.yandex.net/frontend-developer/ava.jpg\",\r\n            \"_id\": \"ef5f7423f7f5e22bef4ad607\",\r\n            \"cohort\": \"local\"\r\n          },\r\n          \"createdAt\": \"2019-07-05T08:11:58.324Z\"\r\n        }\r\n      ]\r\n   */\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    })\r\n    .then(this._onError);\r\n  }\r\n\r\n  /**\r\n   * editProfile response example:\r\n      {\r\n        \"name\": \"Marie Skłodowska Curie\",\r\n        \"about\": \"Physicist and Chemist\",\r\n        \"avatar\": \"https://pictures.s3.yandex.net/frontend-developer/common/ava.jpg\",\r\n        \"_id\": \"e20537ed11237f86bbb20ccb\",\r\n        \"cohort\": \"cohort0\",\r\n      }\r\n   * @param {object} newData - Object created from \"editProfile\" form inputs.\r\n   */\r\n  editProfile(newData) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({ \r\n        name: newData.name, \r\n        about: newData.about })\r\n    })\r\n    .then(this._onError);\r\n  }\r\n\r\n  /**\r\n   * changeAvatar response example:\r\n      {\r\n        \"name\": \"Jacques Cousteau\",\r\n        \"about\": \"Sailor, researcher\",\r\n        \"avatar\": \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg\",\r\n        \"_id\": \"a2b59bdd09e8dc8797e8992c\",\r\n        \"cohort\": \"cohort-15\"\r\n      }\r\n   * @param {string} avatarLink - New avatar link.\r\n   */\r\n  changeAvatar(avatarLink) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatarLink\r\n      })\r\n    })\r\n    .then(this._onError);\r\n  }\r\n\r\n  /**\r\n   * saveCard response example:\r\n      {\r\n        \"likes\": [],\r\n        \"_id\": \"5d1f0611d321eb4bdcd707dd\",\r\n        \"name\": \"Байкал\",\r\n        \"link\": \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg\",\r\n        \"owner\": {\r\n          \"name\": \"Jacques Cousteau\",\r\n          \"about\": \"Sailor, researcher\",\r\n          \"avatar\": \"https://pictures.s3.yandex.net/frontend-developer/ava.jpg\",\r\n          \"_id\": \"ef5f7423f7f5e22bef4ad607\",\r\n          \"cohort\": \"local\"\r\n        },\r\n        \"createdAt\": \"2019-07-05T08:10:57.741Z\"\r\n      }\r\n   * @param {object} cardData - Object with properties of a new card.\r\n   */\r\n  saveCard(cardData) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: cardData.name,\r\n        link: cardData.link\r\n      })\r\n    })\r\n    .then(this._onError);\r\n  }\r\n\r\n  /**\r\n   * deleteCard response example:\r\n      {\r\n        \"message\": \"Пост удалён\"\r\n      }\r\n   * @param {string} cardId - Id of the card that user wants to delete.\r\n   */\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers\r\n    })\r\n    .then(this._onError);\r\n  }\r\n\r\n  /**\r\n   * likeCard response example:\r\n      {\r\n        \"likes\": [\r\n            {\r\n                \"name\": \"99\",\r\n                \"about\": \"99\",\r\n                \"avatar\": \"https://images.unsplash.com/photo-1521543944615-2e0d4f5b0498?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80\",\r\n                \"_id\": \"a2b59bdd09e8dc8797e8992c\",\r\n                \"cohort\": \"cohort-15\"\r\n            }\r\n        ],\r\n        \"_id\": \"5f5f844c8b8a4e001f0880ad\",\r\n        \"name\": \"jg\",\r\n        \"link\": \"https://images.unsplash.com/photo-1517857047616-db2b017371e0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=675&q=80\",\r\n        \"owner\": {\r\n            \"name\": \"Александр\",\r\n            \"about\": \"Студент\",\r\n            \"avatar\": \"https://images.unsplash.com/photo-1534611926209-ca37564bd9bb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=658&q=80\",\r\n            \"_id\": \"8ef98d608592851ee6ab8bb6\",\r\n            \"cohort\": \"cohort-15\"\r\n        },\r\n        \"createdAt\": \"2020-09-14T14:55:08.012Z\"\r\n      }\r\n   * @param {string} cardId - Id of the card that user likes.\r\n   */\r\n  likeCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers\r\n    })\r\n    .then(this._onError);\r\n  }\r\n\r\n  /**\r\n   * dislikeCard & likeCard response structures are the same\r\n   * @param {*} cardId - Id of the card that user dislikes.\r\n   */\r\n  dislikeCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers\r\n    })\r\n    .then(this._onError);\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    return isLiked\r\n    ? this.dislikeCard(cardId)\r\n    : this.likeCard(cardId)\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-15',\r\n  headers: {\r\n    authorization: '7e5ed350-7573-4b9b-967c-f139542c3d10',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});","import React from 'react';\nimport Header from './Header';\nimport Spinner from './Spinner';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmDeletePopup from './ConfirmDeletePopup';\nimport ImagePopup from './ImagePopup';\nimport { api } from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({\n    name: '',\n    about: '',\n    avatar: '#'\n  });\n  const [cards, setCards] = React.useState([]);\n  const [isConfirmDeletePopupOpen, setIsConfirmDeletePopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  // Если закрывать поп-ап с картинкой через обнулление selectedCard, анимация закрытия будет не такой плавной: сначала из поп-апа пропадёт контент, останется \"крестик\" по центру экрана, потом крестик \"растворится\". Закрытие через isImagePopupOpen менее изящно и не так экономично (selectedCard остаётся в памяти), но нужно для визуально привычной анимации.\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [cardIdToDelete, setCardIdToDelete] = React.useState('');\n  const [isLoading, setIsLoading] = React.useState(true);\n\n  const handleEditAvatarClick = () => {\n    setEditAvatarPopupOpen(true);\n  };\n  \n  const handleEditProfileClick = () => {\n    setEditProfilePopupOpen(true);\n  };\n  \n  const handleAddPlaceClick = () => {\n    setAddPlacePopupOpen(true);\n  };\n\n  const closeAllPopups = () => {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsConfirmDeletePopupOpen(false);\n  };\n\n  const handleCardClick = ({ name, link }) => {\n    setSelectedCard({ name, link });\n    setIsImagePopupOpen(true);\n  };\n\n  const handleCardLike = (cardLikes, cardId) => {\n    const isLiked = cardLikes.some(like => like._id === currentUser._id);\n\n    api.changeLikeCardStatus(cardId, isLiked)\n    .then(responseCard => {\n      const newCards = cards.map(item => item._id === cardId ? responseCard : item);\n      setCards(newCards);\n    })\n    .catch(err => alert(err));\n  };\n\n  const handleCardDelete = cardId => {\n    setIsConfirmDeletePopupOpen(true);\n    setCardIdToDelete(cardId);\n  };\n\n  const handleDeleteConfirmation = (cardId) => {\n    api.deleteCard(cardId)\n    .then(() => {\n      const newCards = cards.filter(item => item._id !== cardId);\n      setCards(newCards);\n      closeAllPopups();\n    })\n    .catch(err => alert(err));\n  };\n\n  const updateUserOnResponse = (response) => {\n    setCurrentUser({\n      name: response.name,\n      about: response.about,\n      avatar: response.avatar,\n      _id: response._id\n    });\n  };\n\n  const handleUpdateUser = (newData) => {\n    return (\n      api.editProfile(newData)\n      .then(response => {\n        updateUserOnResponse(response);\n        closeAllPopups();\n      })\n      .catch(err => alert(err))\n    );\n  };\n\n  const handleUpdateAvatar = (newAvatarLink) => {\n    return (\n      api.changeAvatar(newAvatarLink)\n      .then(response => {\n        updateUserOnResponse(response);\n        closeAllPopups();\n      })\n      .catch(err => alert(err))\n    );\n  };\n\n  const handleAddPlace = (cardData) => {\n    return(\n      api.saveCard(cardData)\n      .then(response => {\n        const newCard = {\n          _id: response._id,\n          name: response.name,\n          link: response.link,\n          likes: response.likes,\n          owner: response.owner\n        }\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => alert(err))\n    );\n  };\n\n  React.useEffect(() => {\n    Promise.all(\n      [\n        api.getUserInfo(),\n        api.getInitialCards()\n      ]\n    )\n    .then(results => {\n      const userInfo = results[0];\n      const initialCards = results[1];\n      const items = initialCards.map(item => ({\n        _id: item._id,\n        name: item.name,\n        link: item.link,\n        likes: item.likes,\n        owner: item.owner\n      }));\n\n      updateUserOnResponse(userInfo);\n      setCards(items);\n      setIsLoading(false);\n    })\n    .catch(err => alert(err));\n  }, []);\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page__container\">\n          <Header />\n          {isLoading ? (\n            <Spinner />\n          ) : (\n            <Main\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              cards={cards}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n            />\n          )}\n          <Footer />\n        </div>\n\n        <EditProfilePopup \n          isOpen={isEditProfilePopupOpen} \n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlace}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <ConfirmDeletePopup\n          isOpen={isConfirmDeletePopupOpen}\n          onClose={closeAllPopups}\n          onDeleteConfirmation={handleDeleteConfirmation}\n          cardId={cardIdToDelete}\n        />\n\n        <ImagePopup isOpen={isImagePopupOpen} onClose={closeAllPopups} {...selectedCard}/>\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","module.exports = __webpack_public_path__ + \"static/media/logo_color_white.2b1f7ee5.svg\";"],"sourceRoot":""}